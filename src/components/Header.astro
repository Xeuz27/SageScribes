---
// import Logo from './icons/Logo.astro';
import img from '../img/wizard.webp';
const links = [
    {
        href: '/#ourServices',
        label: 'ourServices',
        display: 'Our Services',
    },
    {
        href: '/#why-us',
        label: 'whyUs',
        display: 'Why Us',
    },
    {
        href: '/#testimonials',
        label: 'testimonials',
        display: 'Testimonials',
    },
    {
        href: '/#faqs',
        label: 'faqs',
        display: 'Faqs',
    },
];
---

<nav
    id="nav"
    class="border border-b border-b-black/20 bg-forth px-4 sm:px-6 lg:px-8"
>
    <div class="mx-auto flex h-16 max-w-[90%] items-center justify-center">
        <a class="flex items-center gap-4" href="/">
            <span class="sr-only">SageScriber</span>
            <img src={img.src} class="size-12" />
            <span
                class="block bg-gradient-to-l from-red-700 via-red-950 to-red-700 bg-clip-text text-3xl font-extrabold leading-normal text-transparent"
                >SageScriber</span
            >
        </a>
        <!-- <div class="">
            <button
                class="block rounded-full bg-black px-8 py-2 font-semibold text-white"
            >
                Github
            </button>
        </div> -->
    </div>
</nav>

<!-- <script>
    let menu = document.getElementById('links');
    let abrirMenu = document.getElementById('open');
    let isMenuClosed = true;

    function openMenu() {
        if (!menu) return;
        if (isMenuClosed) {
            menu.style.left = '0px';
            isMenuClosed = false;
        } else {
            menu.style.left = '-600px';
            isMenuClosed = true;
        }
    }
    const closeMenu = (event: Event) => {
        if (isMenuClosed === false) {
            if (!menu) return;
            if (event.target !== menu && event.target !== abrirMenu) {
                menu.style.left = '-600px';
                isMenuClosed = true;
            }
        }
    };
    abrirMenu?.addEventListener('click', function () {
        openMenu();
    });
    window.addEventListener('click', function (event) {
        closeMenu(event);
    });
</script>
<script>
    function debounce<T extends (...args: any[]) => any>(
        func: T,
        delay: number
    ) {
        let timeoutId: ReturnType<typeof setTimeout>;

        return function (this: ThisParameterType<T>, ...args: Parameters<T>) {
            const context = this;

            clearTimeout(timeoutId);
            timeoutId = setTimeout(() => {
                func.apply(context, args);
            }, delay);
        };
    }
    document.addEventListener('astro:page-load', () => {
        const sections = [...document.querySelectorAll('section')];
        const navItems = [...document.querySelectorAll('header nav ul a')];
        var windowHeight = window.innerHeight;
        function changeNavItemsColor() {
            sections.map((section) => {
                if (
                    section.getAttribute('id') === null ||
                    section.getAttribute('id') === 'hero'
                )
                    return;

                let sectionTopLimit = section.getBoundingClientRect().top;
                let sectionBottomLimit = section.getBoundingClientRect().bottom;

                let navItemForThisSection = navItems.find(
                    (navItem) =>
                        navItem.getAttribute('aria-label') ===
                        section.getAttribute('id')
                )!;

                let isVisible =
                    sectionTopLimit < windowHeight * 0.4 &&
                    sectionBottomLimit > windowHeight * 0.6;

                if (isVisible) {
                    navItemForThisSection.classList.add('text-red-700');
                } else {
                    navItemForThisSection.classList.remove('text-red-700');
                }
            });
        }
        window.addEventListener('scroll', debounce(changeNavItemsColor, 100));
    });
</script> -->
